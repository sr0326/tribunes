var TINGYUN=function(t,v,g){function m(t,e){var n,r,i,o,a=0;if(t)if(i=!!(r=t)&&"length"in r&&r.length,"function"!==(o=typeof r)&&("array"===o||0===i||"number"==typeof i&&0<i&&i-1 in r))for(n=t.length;a<n&&!1!==e.call(t[a],t[a],a);a++);else for(a in t)if(!1===e.call(t[a],t[a],a))break;return t}function e(e){return function(t){return"Array"===e&&Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object "+e+"]"}}function s(t,e){return Function.prototype.apply.apply(t,e)}function o(t,e){return function(){t.apply(e,arguments)}}function a(t){return ft?ft(t):t}function y(n){return arguments.length<2||!n||m(lt.call(arguments,1),function(t){m(t,function(t,e){n[e]=t})}),n}function b(t,n){return t?n?t.replace(/\{(\w+.?\w+)\}/g,function(t,e){return n[e]||""}).replace(/\{(\d+)\}/g,function(t,e){return n[e]||""}):t:""}function u(t){return setTimeout(t,0)}function c(){}function S(){return+new Date}function f(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}function l(t){return t?et(t)?t.length:v.ArrayBuffer&&t instanceof ArrayBuffer?t.byteLength:v.Blob&&t instanceof Blob?t.size:t.length?t.length:0:0}function d(t,e,n,r){var i,o=null;return t&&e&&(i=r,o=(ht!==pt&&/^https/i.test(i&&i.protocol||ht)?"https:":pt)+"//"+t+e,n&&(o+="?",m(n,function(t,e){var n=[a(e),"=",a(t),"&"];o+=n.join("")}),o+="__r="+S())),o}function n(){this.events={}}function r(t){return!(t in St)||St[t]}function i(t){var e=mt.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?e[3]:null}function h(t,e,n){var r=t+"="+e;if(n){var i=new Date;i.setTime(i.getTime()+1e3*n),r+=";expires="+i.toGMTString()}mt.cookie=r}function p(e,n,r){var i=mt.createElement(e);try{for(var o in n)i[o]=n[o]}catch(t){var a="<"+e;for(var o in n)a+=" "+o+'="'+n[o]+'"';a+=">",r||(a+="</"+e+">"),i=mt.createElement(a)}return i}function x(t,e,n,r){rt(n)&&(r=n);var i=p("div",{style:Ut}),o=p("iframe",{name:"ty_form",width:0,height:0,style:Ut}),a=p("form",{style:Ut,action:t,enctype:"application/x-www-form-urlencoded",method:"post",target:"ty_form"}),s=p("input",{name:"data",type:"hidden"},!0);s.value=V(e),a.appendChild(s),i.appendChild(o),i.appendChild(a),mt.body.appendChild(i),a.submit(),o.onreadystatechange=function(){o.readyState!==Mt&&4!==o.readyState||(r(null,o.innerHTML),mt.body.removeChild(i))}}function _(t,e,n){if(t&&n&&rt(n)){var r=t[e];if(!r||!r._wrapped){var i=n(r);return i&&(i._wrapped=!0),t[e]=i}}}function w(t){Xt&&t()}function E(){Qt.on(Ot,f(function(){e();var t=S();w(function(){Gt.load=t}),Zt.loadEventEnd=t})),m([Ot,At,Lt,Bt],function(e){Z(v,e,function(t){w(function(){(Gt.e[e]||(Gt.e[e]=[])).push(S())}),Qt.emit(e,t)})});var e=f(function(){var t=S();w(function(){Gt.end=t}),Zt.domContentLoadedEventStart=t,mt.querySelectorAll&&(Wt.resources=Wt.resources||[],m(mt.querySelectorAll("head>link,head>script"),function(t){var e;"LINK"==t.tagName?e=t.href:"SCRIPT"!=t.tagName||t.defer||t.async||(e=t.src),e&&Wt.resources.push(e)}))});Z(mt,"DOMContentLoaded",e),Z(mt,Ht,function(t){mt.readyState===Mt&&e()});var a=f(function(){Zt.touch=S()});m(["scroll","click","keypress"],function(t){var e,n,r,i,o;r=a,Z(e=mt,n=t,o=function(){return tt(e,n,o),r.apply(this,arguments)},i)});var t=v.requestAnimationFrame;!t||t.toString().indexOf("[native code]")<0||_(v,"requestAnimationFrame",function(e){return function(){if(!Zt.firstPaint){var t=S();w(function(){Gt.an.count++,Gt.an.t=t}),Zt.firstPaint=t,v.requestAnimationFrame=e}return e.apply(this,arguments)}})}function T(t){C(t,$t)}function k(t){C(t,Kt)}function C(t,e){var n="ok";if(!t)return e.length?e.join("\n"):n;e.push(t)}function I(){this.xhrs={},this.errs=[],n.call(this)}function R(t,e){this.flags=0,rt(t.create)&&(this.create=t.create,this.flags|=se),rt(t.before)&&(this.before=t.before,this.flags|=ue),rt(t.after)&&(this.after=t.after,this.flags|=ce),rt(t.error)&&(this.error=t.error,this.flags|=fe),this.data=e}function N(t){return!ee||ee.flags<=0?t:function(r){var i=ee.data;if(0!=(ee.flags&se)){var t=ee.create(ee.data);void 0!==t&&(i=t)}return function t(){0!=(ee.flags&ue)&&ee.before(this,i);var e=t;e._&&(e._=1);try{var n=r.apply(this,arguments)}catch(t){throw 0!=(ee.flags&fe)&&ee.error(i,t),t}return 0!=(ee.flags&ce)&&ee.after(this,i),n}}(t)}function q(){this.id=null,this.active=null,this._set=[]}function O(){!function(){function t(n){return function(t){var e=lt.call(arguments,0);rt(t)&&(e[0]=N(t));try{return n.apply(this,e)}catch(t){}return s(n,[this,e])}}_(v,"setTimeout",t),_(v,"setInterval",t)}();var n=new q;return n.id=function(t,e){if(!ee){if(!it(t)||!t)throw new TypeError("callbacks arguments must be an object");return ee=new R(t,e)}}({create:function(){return n.active},before:function(t,e){e&&n.enter(e)},after:function(t,e){e&&n.exit(e)},error:function(t,e){if(t){try{e.moduleId=t.moduleId}catch(t){}n.exit(t)}}}),n}function A(t){ae&&console.warn(t||"Event key required!")}function L(t){t=t||{},this.key=t.key;var e=t.timeout||6e5;this.i=e?setTimeout(o(this.fail,this),e):null,this.status=1,this.remain=0,this.xhrs=[],this.s=S(),this.e=null,this.called=this.sent=!1}function B(t){try{return(e=t)&&et(e)?K(e):e}catch(t){T(t&&t.message)}var e;return null}function H(){return Zt.loadEventEnd||Zt._end}function M(e){function t(t){return 0<e[t]?e[t]-r:0}var n={},r=g;if(e){w(function(){var n=Gt.t={};m(e,function(t,e){rt(t)||(n[e]=t)})}),r=e.navigationStart,n={f:t(_e),qs:t(we),rs:t(Ee),re:t(Te),os:t(ke),oe:t("domContentLoadedEventEnd"),oi:t("domInteractive"),oc:t("domComplete"),ls:t("loadEventStart"),le:t("loadEventEnd"),tus:t("unloadEventStart"),tue:t("unloadEventEnd")};var i,o,a=t(Ce),s=t(Ie),u=t("redirectStart"),c=t("redirectEnd"),f=t(Re),l=t(Ne);if(0<l-f&&(n.cs=f,n.ce=l),0<s-a&&(n.ds=a,n.de=s),(0<c-u||0<c)&&(n.es=u,n.ee=c),0==n.le){var d=H();n.ue=d-r}if(Zt._le=n.ue||n.le,e.msFirstPaint)i=e.msFirstPaint,w(function(){Gt.fp="m_"+i});else if((o=v.chrome)&&o.loadTimes){var h=o.loadTimes();h&&h.firstPaintTime&&(i=1e3*h.firstPaintTime),w(function(){Gt.fp="c_"+h.firstPaintTime})}else Zt.firstPaint&&(i=Zt.firstPaint,w(function(){Gt.fp=i}));i&&(n.fp=Math.round(i-r),Zt.fp=n.fp),e[qe]&&(n.sl=t(qe))}else n={t:r,os:(Zt[ke]||Zt._end)-r,ls:H()-r};return n.je=Zt.errs&&Zt.errs.length||0,Zt.ct&&(n.ct=Zt.ct-r),Zt.touch&&(n.fi=Zt.touch-r),n}function j(t,r){var u={tr:!1,tt:a(mt.title),charset:mt.characterSet};Jt.resources&&y(u,Jt.resources),w(function(){u.debug=Gt}),Xt=!1;var i=Zt.errs;m(i,function(t,e){var n=t.toObject();n.o=n.o-r&&r.navigationStart||g,i[e]=n}),u.err=i;var e="getEntriesByType";return t[e]?(u.tr=!0,u.res=[],m(t[e]("resource"),function(n){function t(t){var e=n[t];return 0<e?e:0}var r,i,e=n.initiatorType,o=n.name,a={o:t("startTime"),rt:e,n:o,f:t(_e),ds:t(Ce),de:t(Ie),cs:t(Re),ce:t(Ne),sl:t(qe),qs:t(we),rs:t(Ee),re:t(Te),ts:n.transferSize||0,es:n.encodedBodySize||0};if("xmlhttprequest"===e){var s=(r=o,m(Zt.xhrs,function(t,e){if(e&&-1<e.indexOf(r))return i=t,!1}),i);s&&(a.aid=s.id,a.atd=s.trId,a.an=s.action,a.aq=s.time&&s.time.qu,a.as=s.time&&s.time.duration)}u.res.push(a)})):k(b(ie,[e])),u}function z(r){var i=0,o=r.timing;return o?r.getEntriesByName&&(i=o.domLoading,m(Wt.resources,function(t){var e=r.getEntriesByName(t);if(1==e.length){var n=e[0].responseEnd+o.navigationStart;i<n&&(i=n)}}),i-=o.navigationStart):k("fp=0"),w(function(){Gt._fp=i}),Math.round(i)}function D(i,t,e,n){var o=e||0,r=Jt.firstScreenResources;if(r&&r.length&&i.getEntriesByName)return m(r,function(t){var e=i.getEntriesByName(t);if(e.length){var n=e[0].responseEnd;o<n&&(o=n)}}),n.fs_s=1,Math.round(o);if(!mt.createElement("img").getBoundingClientRect)return w(function(){Gt.fs=o}),o;if(i.getEntriesByName){var a=v.innerHeight,s=v.innerWidth,u=[];m(mt.querySelectorAll("img"),function(t){var e,n;t.src&&function(t,e,n){if(t){var r=v.pageYOffset;if(t.top+(0===r?0:r||mt.scrollTop||0)-(mt.clientTop||0)>=e)return!1;var i=t.left;return 0<=i&&i<n}return!1}(rt((n=t).getBoundingClientRect)?n.getBoundingClientRect():void 0,a,s)&&(e=t,!(Rt.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:function(t){for(;t&&1===t.nodeType;){if("none"===((e=t).style&&e.style.display)||"hidden"===t.type)return!0;t=t.parentNode}var e;return!1}(e)))&&u.push(t.src)});var c=(t.loadEventEnd||Zt.loadEventEnd)-t.navigationStart;m(u,function(t){var e=i.getEntriesByName(t);if(e.length){var n=e[0],r=n.responseEnd;n.fetchStart<=c&&o<r&&(o=r)}})}return Math.round(o)}function F(a){return function t(e,n){var r=t;if(r._&&(r._=1),!this[Pt]){var i=this[Dt]={};i.method=e,i.url=n,i.id=je++;var o=he.get("event");o&&(i.key=o.key,o.remain++)}try{return a.apply(this,arguments)}catch(t){}return s(a,[this,arguments])}}function P(o){return function t(e){var n=this,r=t;if(r._&&(r._=1),!n[Pt]){var i=n[Dt];i&&(i.start=S(),i.reqSize=l(e)),function(a){function e(o){return N(function t(){var e,n=t;if(n._&&(n._=1),U(a),rt(o)){var r=a[Dt];if(r&&4==a.readyState)var i=S();e=o.apply(this,arguments),r&&4==a.readyState&&(r.cbTime=S()-i,a[Dt]=null)}return e})}function r(t){a[Dt]&&(a[Dt].errorCode=t)}if(a[De])_(a,De,e);else try{Z(a,Ht,N(function t(){var e=t;e._&&(e._=1),U(a)})),m(ze,function(t,e){Z(a,e,function(){r(t)})})}catch(t){return u(function(){m(ze,function(e,t){var n="on"+t;a[n]?_(a,n,function(t){if(r(e),rt(t))return t.apply(this,arguments)}):a[n]=function(){r(e)}}),_(a,De,e)})}u(function(){_(a,De,e)})}(n),n.setRequestHeader&&St.id&&i&&Fe(i.url)&&(i.r=S()%1e9,n.setRequestHeader("X-Tingyun-Id",St.id+";r="+i.r))}try{return o.apply(n,arguments)}catch(t){}return s(o,[n,arguments])}}function U(n){var r=n[Dt];if(r&&(r.end=S(),r.readyState=n.readyState,4==n.readyState)){r.status=n.status,r.resSize=function(t){var e=0;if(""==t.responseType||"text"==t.responseType)e=l(t.responseText);else if(t.response)e=l(t.response);else try{e=l(t.responseText)}catch(t){}return e}(n);var i=he.get("event");u(function(){var e=!1;if(m(Me,function(t){if(t.id===r.id)return!(e=!0)}),!e){var t=function(t,e){if(t){var n=t.status,r={id:t.id,req:t.method+" "+t.url,start:t.start,du:0<n?t.end-t.start:0,cb:t.cbTime||0,status:n,err:t.errorCode?t.errorCode:0,rec:t.resSize,send:t.reqSize};if(t.r){var i=(o=t,(a=B(function(t,e){if(t&&t.getResponseHeader)return t.getResponseHeader(e)}(e,"X-Tingyun-Tx-Data")))&&a.r&&Y(a.r)===Y(o.r)?a:null);i&&(r.s_id=i.id,r.s_name=i.action,i.time&&(r.s_du=i.time.duration,r.s_qu=i.time.qu),r.t_id=i.trId)}return r}var o,a}(r,n);i&&i.key==r.key&&(i.xhrs.push(t),0==--i.remain&&i._end()),Zt.xhrs&&(He(r),Zt.xhrs[r.url]=t),Me.push(t)}})}}function Y(t){return t+""}function X(t){this.limit=t,this.reset()}function G(t,e,n,r,i,o,a){var s=this;s.id=t,s.time=S(),s.msg=e,s.lineno=r,s.colno=i,s.filename=n,s.count=1,s.stack=o&&o.stack||"",s.module=a,s.fix();var u=We[t];s.ep=u?0:1,We[t]=!0}function J(t){var e,n,r=(e=Je.c,n=[],m(e,function(t){n.push(t.toObject())}),n);if(!r||!r.length)return null;var i={fu:Pe||Pe++,os:parseInt((S()-(Wt.pfStart||g))/1e3)};Jt.ulabel&&(i.ulabel=Jt.ulabel),Zt.emit("send","/err1",i,{datas:r},o(Je.reset,Je))}function W(t,e,n,r,i){if(e||!wt){var o=!1;if(m(bt.domains,function(t){if(o=t.test(e))return!1}),!o){var a=i&&i.moduleId,s=(c=n,f=r,l=a,String(t)+String(c)+String(f)+String(l)),u=Je.get(s);u?u.increase():(u=new G(s,t,e,n,r,i,a),Je.add(s,u),Zt.errs&&Zt.errs.push(u))}}var c,f,l}function Q(){var o=v.onerror;v.onerror=function(t,e,n,r,i){if(W(t,e,n,r,i),rt(o))return o.apply(this,arguments)},v.onerror._ty=!0}function $(){var t=v.onerror;t&&t._ty||Q()}var K,V,Z,tt,et=e("String"),nt=e("Array"),rt=e("Function"),it=e("Object"),ot=e("Undefined"),at='"',st=/([\"\\])/g,ut=/\n/g,ct=v.JSON;V=ct&&ct.parse&&ct.stringify?(K=function(t){return JSON.parse(t)},function(t){return JSON.stringify(t)}):(K=function(t){return new Function("return "+t)()},function n(r){switch(typeof r){case"object":if(!r)return null;if(r instanceof Array)return m(r,function(t,e){r[e]=n(t)}),"["+r.join(",")+"]";if(r instanceof Date)return r.getTime().toString();var i="";return m(r,function(t,e){rt(t)||(i+=n(e)+":"+n(t)+",")}),i&&(i=i.substr(0,i.length-1)),"{"+i+"}";case"string":return at+r.replace(st,"\\$1").replace(ut,"\\n")+at;case"number":return isNaN(r)?null:r;case"boolean":return r;case"function":return n(r.toString());case"undefined":default:return'"undefined"'}}),tt=v.addEventListener?(Z=function(t,e,n,r){return t.addEventListener(e,n,r)},function(t,e,n){return t.removeEventListener(e,n)}):(Z=function(t,e,n){return t.attachEvent("on"+e,n)},function(t,e,n){return t.detachEvent("on"+e,n)});var ft=v.encodeURIComponent,lt=[].slice,dt=new Function("return!+[1,]"),ht=v.location.protocol,pt="http:",vt=function(){function t(t){return t<0?NaN:t<=30?0|Math.random()*(1<<t):t<=53?(0|Math.random()*(1<<30))+(0|Math.random()*(1<<t-30))*(1<<30):NaN}function e(t,e){for(var n=t.toString(16),r=e-n.length,i="0";0<r;r>>>=1,i+=i)1&r&&(n=i+n);return n}return function(){return e(t(32),8)+"-"+e(t(16),4)+"-"+e(16384|t(12),4)+"-"+e(32768|t(14),4)+"-"+e(t(48),12)}}();n.prototype={on:function(t,e){var n=this;return et(t)?(n.events[t]||(n.events[t]=[])).push(e):nt(t)&&m(t,function(t){n.on(t,e)}),n},off:function(t,e){var n=arguments.length,r=this;if(0===n)return r.events={},r;var i=r.events[t];if(!i)return r;if(1===n)return r.events[t]=null,r;for(var o=i.length;o--;)if(i[o]===e){i.splice(o,1);break}return r},emit:function(t){var e=[].slice.call(arguments,1),n=this.events[t];return n&&m(n,function(t){return t.apply(this,e)}),this},unshift:function(t,e){return(this.events[t]||(this.events[t]=[])).unshift(e),this}};var gt=v.Error,mt=v.document,yt=v.XMLHttpRequest,bt={};bt.server={id:"QJMBfdIF52g",ignore_err:!0,beacon:"beacon.tingyun.com",beacon_err:"beacon-err.tingyun.com",key:"Ib5NUQBv3n4",trace_threshold:7e3,fp_threshold:2e3,fs_threshold:4e3,dr_threshold:4e3,custom_urls:[],sr:1};var St=bt.server||{};St=y({fp_threshold:2e3,fs_threshold:4e3,dr_threshold:4e3},St);var xt,_t,wt=r("ignore_err"),Et=r("debug"),Tt=v.location,kt=v.navigator,Ct=v.HTMLElement,It=function(){try{var t=vt();return v.localStorage.setItem(t,t),v.localStorage.removeItem(t),!0}catch(t){return!1}}(),Rt={};Rt.localStorage=It,function(){mt.documentElement;var r,i,o=mt.createElement("div"),a=mt.createElement("div");a.style&&(a.style.cssText="float:left;opacity:.5",Rt.opacity="0.5"===a.style.opacity,Rt.cssFloat=!!a.style.cssFloat,a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Rt.clearCloneStyle="content-box"===a.style.backgroundClip,(o=mt.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.innerHTML="",o.appendChild(a),Rt.boxSizing=""===a.style.boxSizing||""===a.style.MozBoxSizing||""===a.style.WebkitBoxSizing,Rt.reliableHiddenOffsets=function(){return null==r&&((n=mt.documentElement).appendChild(o),a.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r=!1,!0,v.getComputedStyle&&(e=v.getComputedStyle(a),r="1%"!==(e||{}).top,"2px"===(e||{}).marginLeft,"4px"===(e||{width:"4px"}).width,a.style.marginRight="50%","4px"===(e||{marginRight:"4px"}).marginRight,(t=a.appendChild(mt.createElement("div"))).style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",a.style.width="1px",!parseFloat((v.getComputedStyle(t)||{}).marginRight),a.removeChild(t)),a.style.display="none",(i=0===a.getClientRects().length)&&(a.style.display="",a.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(t=a.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(i=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",i=0===t[0].offsetHeight)),n.removeChild(o)),i;var t,e,n})}(),_t=Rt.localStorage?(xt=function(t){return v.localStorage.getItem(t)},function(t,e){return v.localStorage.setItem(t,e),e}):(xt=i,h);var Nt,qt="error",Ot="load",At="unload",Lt="beforeunload",Bt="pagehide",Ht="readystatechange",Mt="complete",jt="TY_DISTINCT_ID",zt="TY_SESSION_ID",Dt="_ty_rum",Ft="TINGYUN",Pt="__ign",Ut="display:none",Yt=function(t,e){e=e||c;var n=new Image;Z(n,Ht,function(){"loaded"!=n.readyState&&4!=n.readyState||e(null)},!1),Z(n,Ot,function(){e(null)},!1),Z(n,qt,function(){e(qt)},!1),n.src=t};v.XDomainRequest?Nt=function(t,e,n,r){rt(n)&&(r=n);var i=new XDomainRequest;i.open("POST",t),i.onload=function(){r(null,i.responseText)},i.onerror=function(t){r(t)},i.send(V(e))}:dt()?Nt=x:kt.sendBeacon?Yt=Nt=function(t,e,n,r){rt(n)&&(r=n,n=null),kt.sendBeacon(t,V(e))&&r&&r()}:Nt=function(e,n,t,r){rt(t)&&(r=t,t=null);var i=f(r),o=new yt;o[Pt]=!0,o.overrideMimeType&&o.overrideMimeType("text/html"),o.onreadystatechange=function(){4==o.readyState&&200==o.status&&i(null,o.responseText)},o.onerror=i,n=V(n);try{o.open("POST",e,!0)}catch(t){return x(e,n,i)}for(var a in t)o.setRequestHeader(a,t[a]);o.send(n)};var Xt=Et,Gt={start:g,e:{},an:{count:0},visible:[]},Jt={},Wt={};!function(){if(Et){var t,e,n="visibilitychange";ot(mt.hidden)?ot(mt.msHidden)?ot(mt.webkitHidden)||(t="webkitHidden",e="webkit"+n):(t="msHidden",e="ms"+n):(t="hidden",e=n),ot(mt.addEventListener)||ot(mt[t])||Z(mt,e,(r=function(){Gt.visible.push([mt[t],S()])},function(){Xt&&r.apply(this,arguments)}))}var r}();var Qt=new n,$t=[],Kt=[],Vt=I.prototype;Vt.start=function(){if(!St.key)return T("missing config, agent disabled!"),!1;var t=v[Dt]||v[Ft];return t&&t.server?(T("already loaded!"),!1):(E(),this)},y(Vt,n.prototype);var Zt=new I;Zt.on("send",function(t,e,n,r){var i=d(St.beacon,t,y({},ne,e||{}));switch(r=r||c,t){case"/pf":n?Nt(i,n,function(){Zt.xhrs=Zt.errs=null,r()}):Yt(i,r);break;default:Nt(i,n,r)}});var te,ee,ne={pvid:vt(),ref:mt.URL,referrer:mt.referrer,key:St.key,v:"1.7.5",av:"1.7.5",did:xt(jt)||_t(jt,vt(),86400),sid:(te=i(zt),te||(te=vt(),h(zt,te)),te)},re=Ct?function(t){return t instanceof Ct}:function(t){t&&"object"==typeof t&&1===t.nodeType&&et(t.nodeName)},ie="{0} not support",oe={},ae=void 0!==v.console,se=1,ue=2,ce=4,fe=8,le=R.prototype;le.create=le.before=le.after=le.error=null;var de=!(q.prototype={createContext:function(){return Object.create?Object.create(this.active):O(this.active)},get:function(t){if(this.active)return this.active[t]},set:function(t,e){if(this.active)return this.active[t]=e},enter:function(t){if(!t)throw new gt("context required!");this._set.push(this.active),this.active=t},exit:function(t){if(!t)throw new gt("context required!");if(t!==this.active){var e=this._set.lastIndexOf(t);if(e<0)throw new gt("context not currently entered!");this._set.splice(e,1)}else this.active=this._set.pop()},bind:function(t,e){e||(e=this.active?this.active:this.createContext());var n=this;return function(){n.enter(e);try{return t.apply(this,arguments)}catch(t){try{t.moduleId=e.moduleId}catch(t){}throw t}finally{n.exit(e)}}}}),he=(de||(he=O(),de=!0),he),pe=A.prototype;pe.fail=pe.end=c;var ve=L.prototype;ve.end=ve.finish=ve.fail=null,ve.send=function(t){var e=this;e.sent=!0;var n=t.event&&t.event.xhrs||[];m(n,function(t){t.start=t.start-e.s});var r={key:e.key,duration:e.e-e.s,status:e.status,xhrs:n};Zt.emit("send","/spe",null,r,c)};var ge={},me={},ye=v.screen;ye&&(me.sh=ye.height,me.sw=ye.width);var be={host:"cshst",url:"csurl"},Se={version:"1.7.5",config:function(t,e){var n;if(it(t))n=t;else{if(!et(t)||void 0===e)throw new gt("illegal argument");(n={})[t]=e}return m(n,function(t,e){e in be?Jt[be[e]]=t:Jt[e]=t}),this},DIAGNOSE_HREF:2,diagnose:function(t){function n(t,e,n){var r=n||"log",i=o[t]||(o[t]={});i[r]=i[r]||"",i[r]+=e}var o={},e=T();if(n("Status",e,"ok"!==e),n("Debug",k()),m(oe,function(t,e){n("Timeline",e+": "+t.toString())}),!t&&ae)console.log("[TingYun Agent Diagnosis]\n"),m(o,function(t,e){m(console[e],function(t,e){console[e](t)})});else{if(2!==t)return V(o);Tt.href=Tt.href+"#"+V(o)}},createEvent:function(t){var e=(t=t||{}).key;if(!e)return new A;if(ge[e])return new A("event "+e+" is executing");ge[e]=!0;var n=he.createContext();he.enter(n);var r=new L(t);return he.set("event",r),r._end=function(){!this.sent&&0===this.remain&&this.called&&this.finish().send(n)},r.end=function(t){this.called?ae&&console.warn("Event "+this.key+"has ended or failed!"):(this.called=!0,he.exit(n),this.status=arguments.length?t:1,this._end())},r.finish=function(t){var e=this;return e.e=S(),e.i&&clearTimeout(e.i),delete ge[e.key],e},r.fail=function(){this.end(0)},r},logFirstScreen:function(t){if(t){var n=Jt.firstScreenResources=Jt.firstScreenResources||[];nt(t)||(t=[t]),m(t,function(t){if(et(t))n.push(t);else if(re(t)){var e=t.src||t.href;e&&n.push(e)}})}},addExcludedDomain:function(t){nt(t)||(t=[t]),m(t,function(t){if(t){if(!(t instanceof RegExp))throw new gt("parameter's type requires RegExp");(bt.domains||(bt.domains=[])).push(t)}})}};v[Dt]=v[Ft]=Se;var xe=0,_e="fetchStart",we="requestStart",Ee="responseStart",Te="responseEnd",ke="domContentLoadedEventStart",Ce="domainLookupStart",Ie="domainLookupEnd",Re="connectStart",Ne="connectEnd",qe="secureConnectionStart",Oe=function(t){if(!t.agent){var e=v._ty_rum;if(e&&e.agent)t.agent=e.agent;else{var n=i("TINGYUN_DATA");if(n){try{t.agent=B(decodeURIComponent(n))}catch(t){T(t&&t.message)}h("TINGYUN_DATA","",-1e3)}}}return t.agent}(bt);Oe&&Oe.ulabel&&(Jt.ulabel=Oe.ulabel);var Ae,Le=2e3,Be=(Ae=[],m(St.custom_urls,function(t){try{Ae.push(new RegExp(t))}catch(t){T(t&&t.message)}}),Ae),He=Be.length?function(e){var n=e.url;!Zt.ct&&n&&m(Be,function(t){if(n.match(t))return Zt.ct=e.end+e.cbTime,!1})}:c,Me=[],je=0,ze={error:990,abort:905,timeout:903},De="on"+Ht,Fe=function(){function n(t){var e=t;return r&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var r=/(msie|trident)/i.test(kt.userAgent),i=mt.createElement("a"),o=n(Tt.href);return function(t){var e=n(t);return e.protocol===o.protocol&&e.host===o.host}}(),Pe=0;X.prototype={add:function(t,e){this.len>this.limit||this.get(t)||(this.c[t]=e,this.len++)},get:function(t){return this.c[t]},reset:function(){this.c={},this.len=0}};var Ue,Ye,Xe,Ge,Je=new X(100),We={};return G.prototype={increase:function(){this.count++},fix:function(){var t=this.stack;if(t&&et(t)){var n=[];m(t=t.split(/\n/),function(t,e){-1==t.indexOf("__ty_aysncWrap__")&&n.push(t)}),this.stack=n.join("\n")}},toObject:function(){var t=this;return{o:t.time,e:t.msg,l:t.lineno,c:t.colno,r:t.filename,ec:t.count,s:t.stack,m:t.module,ep:t.ep}}},(Ge=Array.prototype).indexOf||(Ge.indexOf=function(t,e){var n=this.length>>>0;if((e|=0)<0)e=Math.max(n-e,0);else if(n<=e)return-1;if(void 0===t){do{if(e in this&&void 0===this[e])return e}while(++e!==n)}else do{if(this[e]===t)return e}while(++e!==n);return-1}),Zt.start()&&(Xe=f(function(){var t=v.performance,e=!!t;e||k(b(ie,["pf"]));var n,r,i,o,a,s=(r={},(n=Oe)&&(r.id=n.id,r.a=n.a,r.q=n.q,r.tid=n.tid,r.n=n.n),r),u=t&&t.timing,c=y(M(u),s,Jt),f=y({},me);Zt.fp?(f.fp=Zt.fp,e&&Zt.fp>Zt._le&&(k("fp>le"),f.fp=z(t),f.__fp=2)):e?(f.fp=z(t),f.__fp=1):f.fp=f.__fp=0,f.dr=(o=g,a=0,(i=u)&&(o=i.navigationStart||o,a=i[ke]||i.domInteractive||i.domLoading||a),(a=Zt[ke]||a||Zt._end)-o),e?f.fs=D(t,u,f.fp,f):f.__fs=0;var l,d="";if(e){var h=Math.max(c.ls,0);h||(h=H()-u.navigationStart||g),f.trace=h;var p=function(t){if(t){var e=t.fetchStart;if(e)return e-t.navigationStart}}(u);m(["fp","fs","dr","trace"],function(t){d+=(p?f[t]-p:f[t])>=St[t+"_threshold"]?"1":"0"}),delete f.trace,-1<d.indexOf("1")&&(l=j(t,u))}f.trflag=d||"0000",Wt.pfStart=S(),delete c.firstScreenResources,delete c.resources,Zt.emit("send","/pf",y(c,f),l,function(){k("pf sent!"),Zt.xhrs=Zt.errs=null})}),Qt.on(Ot,function(){u(Xe)}).on([At,Lt,Bt],Xe),(Ye=yt&&yt.prototype)?(_(Ye,"open",F),_(Ye,"send",P)):yt&&(v.XMLHttpRequest=function(){var t=new yt;return _(t,"open",F),_(t,"send",P),t}),setInterval(function(){if(Me&&Me.length){var e=[];m(Me,function(t){e.push(t)});var t=null;Jt.ulabel&&(t={ulabel:Jt.ulabel}),Zt.emit("send","/xhr1",t,{xhr:e},function(){Me=function(t,e){for(var n=-1,r=0,i=null==t?0:t.length,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}(Me,function(t){return e.indexOf(t)<0})}),dt()&&!v.XDomainRequest&&(Me=[])}},Le),(Ue=dt())?Q():Z(v,qt,function(t){var e,n,r,i,o;(t instanceof v.Event||v.ErrorEvent&&t instanceof v.ErrorEvent)&&(e=t.message||t.error&&(t.error.message||t.error.constructor.name)||"",n=t.lineno||0,r=t.colno||0,(i=t.filename||t.error&&t.error.filename||t.target&&t.target.baseURI||"")==mt.URL&&(i="#"),o=t.error),W(e,i,n,r,o)}),Qt.on([Ot,At,Lt,Bt],function(t){J()}).on(Ot,function(){Ue&&u($)}),setInterval(J,1e4)),Zt._end=S(),w(function(){Gt._end=Zt._end}),function(){if(Object.defineProperty){var t=v[Dt];Object.defineProperty(v,Dt,{get:function(){return 0<xe++&&v.console&&console.warn("window.%s is deprecated, use window.%s instead.",Dt,Ft),t}})}}(),Se}(0,window,+new Date);